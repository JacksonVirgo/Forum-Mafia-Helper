{"version":3,"sources":["img/logo.png","components/pages/Main.jsx","components/pages/404.jsx","scripts/reference.js","scripts/websockets.js","scripts/dateUtilities.js","components/pages/Modal.jsx","components/forms/Field.jsx","components/forms/Input.jsx","components/forms/Form.jsx","components/pages/Replacement.jsx","scripts/stringUtilities.js","scripts/Vote.js","scripts/sorting.js","scripts/formatting/settingsFormatter.js","components/pages/VoteCount.jsx","network/socket.js","components/rolecard/RolecardComponent.jsx","components/rolecard/SidebarButton.jsx","components/rolecard/sections/Import.jsx","components/rolecard/sections/Template.jsx","components/pages/RoleCard.jsx","components/pages/Credits.jsx","index.js"],"names":["Main","auth","className","src","logo","alt","subtitle","href","serverUrl","createSocket","socket","socketIOClient","months","Modal","p","title","children","map","c","i","Field","props","child","Input","name","label","type","accept","htmlFor","this","id","React","Component","Form","onSubmit","submitText","value","Replacement","onReplacement","e","author","lastPage","url","today","date","Date","currentDay","getDate","j","k","attachSuffixOf","currentMonth","getMonth","getCalendarDate","result","departing","setState","progress","state","on","bind","preventDefault","target","emit","readOnly","Vote","voteData","category","pronoun","number","parseInt","post","votes","vote","last","valid","isAfter","settings","totalnames","alias","voteArray","lastVote","undefined","finalVote","length","originalVote","correction","findBestMatch","bestMatch","rating","correctionWeight","corrected","isCurrent","days","isDead","dead","deadUsr","deadRoot","rootUser","userRoot","user","sortArraysBySize","array","lemgth","selectors","players","slots","moderators","deadline","prods","countdown","pageData","containsSelector","sel","selRef","includes","findSelector","selector","handle","request","defaultFunc","SettingsFormat","data","reg","unvote","hurt","voteWeight","baseUrl","parseSettings","settingsData","playerRef","convertCommaDelimiter","list","obj","addNamesArray","addAlias","convertPlayerNicknames","slotRef","aliasRef","moderatorRef","deadRef","dayRef","prodList","isNaN","convertProds","console","log","nameArray","push","Object","assign","setting","addPlayers","split","f","cur","root","slotList","nicknames","splitData","nicks","group","indivPlayers","currentPlayer","trim","playerReference","val","prod","int","VoteCount","cat","toggle","onlyCountVotes","cache","startSocketConnection","setupSocketListeners","closeSocketConnection","io","connect","disconnect","processVotes","processProgress","processError","cleaned","clean","format","currentPage","notes","Math","round","gameUrl","fields","onFormSubmit","wagons","notVoting","majority","voteCount","getAlive","ceil","validVote","getNewest","isValid","authorIndex","indexOf","splice","totalVC","categoryVotes","wagonHead","eDash","aliveList","getRootAuthor","containsObject","votePost","cor","RolecardComponent","SidebarButton","onclick","onClick","Import","formSubmit","Template","onChange","RoleCard","import","globals","template","roleData","file","files","Papa","parse","download","header","skipEmptyLines","complete","res","roles","err","toggleImport","toggleGlobal","toggleTemplate","submitImport","templateChange","Doc","exact","path","component","Credit","NotFoundPage","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.84753f9e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.f16fac0d.png\";","import React from 'react';\r\nimport logo from '../../img/logo.png';\r\n\r\nfunction renderSubtitle(subtitle) {\r\n\tlet subtitleCmpt = <h2>{subtitle}</h2>;\r\n\treturn subtitle ? subtitleCmpt : null;\r\n}\r\n\r\nexport default function Main(auth) {\r\n\treturn (\r\n\t\t<div className='modalMain'>\r\n\t\t\t<img src={logo} alt='Logo' />\r\n\t\t\t<h1>Mafia Engine</h1>\r\n\t\t\t{renderSubtitle('Version Beta 1.2')}\r\n\t\t\t<br />\r\n\t\t\t<div className='mainmenu'>\r\n\t\t\t\t<a className='menuoption' href='/rolecard'>\r\n\t\t\t\t\tRole Card\r\n\t\t\t\t</a>\r\n\t\t\t\t<a className='menuoption' href='/replacement'>\r\n\t\t\t\t\tReplacement Form\r\n\t\t\t\t</a>\r\n\t\t\t\t<a className='menuoption' href='/votecount'>\r\n\t\t\t\t\tVote Counter\r\n\t\t\t\t</a>\r\n\t\t\t\t<a className='menuoption' href='/credits'>\r\n\t\t\t\t\tCredits / Contact\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport logo from '../../img/logo.png';\r\n\r\nexport default function Main(auth) {\r\n\treturn (\r\n\t\t<div className='modalMain'>\r\n\t\t\t<img src={logo} alt='Logo' />\r\n\t\t\t<h1>Error 404</h1>\r\n\t\t\t<h2>Page Not Found</h2>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export const serverUrl = \"http://mafiaengine.com\";","import socketIOClient from 'socket.io-client';\r\nimport { serverUrl } from \"./reference\";\r\n\r\nexport function createSocket(commands = []) {\r\n    const socket = socketIOClient(serverUrl);\r\n    return socket;\r\n}\r\n// Create a managable abstraction over this.","import { attachSuffixOf } from './stringUtilities';\r\nlet months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\nexport function getCalendarDate() {\r\n    let date = new Date();\r\n    let currentDay = date.getDate();\r\n    currentDay = attachSuffixOf(currentDay);\r\n    let currentMonth = date.getMonth() + 1;\r\n    return `${currentDay} ${months[currentMonth - 1]}`;\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Modal(p) {\r\n\tconst { title, children } = p;\r\n\treturn (\r\n\t\t<div className='modalMain'>\r\n\t\t\t<h1>{title}</h1>\r\n\t\t\t{children.map((c, i) => {\r\n\t\t\t\treturn c;\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Field(props) {\r\n\tconst { child } = props;\r\n\treturn <div className='field'>{child}</div>;\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Input extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.name = props.name;\r\n\t\tthis.label = props.label;\r\n\t\tthis.type = props.type;\r\n\r\n\t\tif (props.accept) this.accept = props.accept;\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<label htmlFor={this.name}>{this.label}</label>\r\n\t\t\t\t<input id={this.name} type={this.type} accept={this.accept || ''} />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport Field from './Field.jsx';\r\nimport Input from './Input';\r\nexport default class Form extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onSubmit = props.onSubmit;\r\n\t\tthis.children = props.children;\r\n\t\tthis.submitText = props.submitText;\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form className='modalForm' onSubmit={this.onSubmit}>\r\n\t\t\t\t{this.children.map((c, i) => {\r\n\t\t\t\t\treturn <Field key={c.name} child={<Input name={c.name} label={c.label} type={c.type} />} />;\r\n\t\t\t\t})}\r\n\t\t\t\t<input type='submit' value={this.submitText} />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { createSocket } from '../../scripts/websockets';\r\nimport { getCalendarDate } from '../../scripts/dateUtilities';\r\nimport Modal from './Modal';\r\nimport Form from '../forms/Form';\r\nexport default class Replacement extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tresult: '',\r\n\t\t\tprogress: '',\r\n\t\t};\r\n\t\tthis.departing = null;\r\n\t\tthis.socket = createSocket();\r\n\t\tthis.socket.on('replacement', this.onReplacement.bind(this));\r\n\t}\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconst url = e.target.url.value;\r\n\t\tthis.departing = e.target.departing.value;\r\n\t\tthis.socket.emit('replacement', { url });\r\n\t\tthis.setState({ progress: '[pending]', result: 'Pending...' });\r\n\t}\r\n\tonReplacement = (e) => {\r\n\t\tconst { author, lastPage, title, url } = e;\r\n\t\tlet today = getCalendarDate();\r\n\t\tlet result = `${today}\\n[i][url=${url}]${title}[/url][/i]\\n[b]Moderator:[/b] [user]${author}[/user][tab]3[/tab][tab]3[/tab][b]Status:[/b] ${lastPage} pages [tab]3[/tab] [b]Replacing:[/b] [user]${this.departing}[/user]`;\r\n\t\tthis.setState({ result, progress: '' });\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\ttitle='Replacement Form'\r\n\t\t\t\tchildren={[\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tkey='replacementForm'\r\n\t\t\t\t\t\tonSubmit={this.onSubmit.bind(this)}\r\n\t\t\t\t\t\tsubmitText='Generate'\r\n\t\t\t\t\t\tchildren={[\r\n\t\t\t\t\t\t\t{ name: 'url', label: 'Game URL', type: 'text' },\r\n\t\t\t\t\t\t\t{ name: 'departing', label: 'Departing Player', type: 'text' },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>,\r\n\t\t\t\t\t<div key='result' className='modalResult'>\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\tResult <span>{this.state.progress}</span>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<textarea value={this.state.result} readOnly />\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n","export function attachSuffixOf(i) {\r\n    let j = i % 10, k = i % 100;\r\n    if (j === 1 && j !== 11) return i + \"st\";\r\n    else if (j === 2 && k !== 12) return i + \"nd\";\r\n    else if (j === 3 && k !== 13) return i + \"rd\";\r\n    else return i + \"th\";\r\n}\r\n","import { findBestMatch } from 'string-similarity';\r\n\r\nexport default class Vote {\r\n    constructor(voteData, category) {\r\n        this.category = category;\r\n        this.author = voteData.author;\r\n        this.pronoun = voteData.pronoun;\r\n        this.number = parseInt(voteData.post.number);\r\n        this.url = voteData.post.url;\r\n        this.votes = voteData.votes;\r\n        this.vote = {\r\n            last: null,\r\n            valid: null\r\n        }\r\n    }\r\n    isAfter(vote) {\r\n        return this.number > vote.number;\r\n    }\r\n    getNewest(vote) {\r\n        if (!vote) {\r\n            return this;\r\n        } else {\r\n            return this.isAfter ? this : vote;\r\n        }\r\n    }\r\n    clean(settings) {\r\n        const totalnames = settings.totalnames, alias = settings.alias, voteArray = this.votes[this.category];\r\n        let lastVote = undefined, finalVote = undefined;\r\n        for (let i = voteArray.length; i >= 0; i -= 1) {\r\n            const originalVote = voteArray[i];\r\n            if (lastVote === undefined) lastVote = originalVote;\r\n            if (finalVote === undefined) {\r\n                if (originalVote || originalVote === null) {\r\n                    if (originalVote === null) {\r\n                        finalVote = null;\r\n                    } else {\r\n                        let correction = findBestMatch(originalVote, totalnames).bestMatch;\r\n                        if (correction.rating >= settings?.correctionWeight || 0.7) {\r\n                            let corrected = alias[correction.target];\r\n                            if (corrected) {\r\n                                finalVote = corrected;\r\n                                if (lastVote === originalVote)\r\n                                    lastVote = finalVote;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.vote.last = lastVote;\r\n        this.vote.valid = finalVote;\r\n    }\r\n    isValid(settings) {\r\n        let isCurrent = this.number > parseInt(settings.days[settings.days.length - 1]);\r\n        let isDead = false;\r\n        for (let deadUsr of settings.dead) {\r\n            let deadRoot = this.rootUser(deadUsr, settings.totalnames);\r\n            let userRoot = this.rootUser(this.author, settings.totalnames);\r\n            if (deadRoot.target === userRoot.target) {\r\n                isDead = true;\r\n            }\r\n        }\r\n        return isCurrent && !isDead;\r\n    }\r\n    rootUser(user, totalnames) {\r\n        return findBestMatch(user, totalnames).bestMatch;\r\n    }\r\n}","export function sortArraysBySize(array) {\r\n    for (let i = 1; i < array.lemgth; i++) {\r\n        for (let j = i - 1; j > -1; j--) {\r\n            let a = array[i].length,\r\n                b = array[j].length;\r\n            if (a < b) [array[j + 1], array[j]] = [array[j], array[j + 1]];\r\n        }\r\n    }\r\n    return array;\r\n}\r\n","const seperator = ',';\r\nconst block = ':';\r\nconst selectors = {\r\n\tplayers: ['playerList', 'players'],\r\n\tslots: ['slotList', 'slots', 'replacementlist', 'replacements'],\r\n\talias: ['nicknameList', 'nicknames', 'alias', 'aliasList'],\r\n\tmoderators: ['moderatorList', 'moderators', 'moderatorNames'],\r\n\tdead: ['deadList', 'dead', 'eliminated'],\r\n\tdays: ['dayStartNumbers', 'dayStart', 'days'],\r\n\tdeadline: ['deadline', 'timer'],\r\n\tprods: ['prodTimer', 'prod'],\r\n\tcountdown: ['prods', 'timer', 'prodTimer', 'countdown'],\r\n\tpageData: ['pageData'],\r\n\tcorrectionWeight: ['correctionWeight, correction'],\r\n};\r\nfunction containsSelector(sel, selRef) {\r\n\treturn selRef.includes(sel);\r\n}\r\nfunction findSelector(sel) {\r\n\tfor (const selector in selectors) {\r\n\t\tif (containsSelector(sel, selectors[selector])) {\r\n\t\t\treturn { handle: selector, request: sel, selectors: selectors[selector] };\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nconst defaultFunc = (settings) => {\r\n\tlet s = new SettingsFormat(settings);\r\n\treturn s.data;\r\n};\r\nexport default defaultFunc;\r\n\r\nclass SettingsFormat {\r\n\tconstructor(settings = null) {\r\n\t\tthis.data = {\r\n\t\t\tplayers: [],\r\n\t\t\tslots: {},\r\n\t\t\talias: {},\r\n\t\t\ttotalnames: [],\r\n\t\t\tmoderators: [],\r\n\t\t\tdead: [],\r\n\t\t\tdays: ['0'],\r\n\t\t\tvotes: {\r\n\t\t\t\treg: {\r\n\t\t\t\t\tid: '0',\r\n\t\t\t\t\tvote: 'VOTE: ',\r\n\t\t\t\t\tunvote: 'UNVOTE: ',\r\n\t\t\t\t},\r\n\t\t\t\thurt: {\r\n\t\t\t\t\tid: '1',\r\n\t\t\t\t\tvote: 'HURT: ',\r\n\t\t\t\t\tunvote: 'HEAL: ',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tpageData: null,\r\n\t\t\tvoteWeight: {\r\n\t\t\t\treg: 1,\r\n\t\t\t},\r\n\t\t\tcorrectionWeight: 0.5,\r\n\t\t};\r\n\t\tthis.baseUrl = '';\r\n\t\tif (settings) this.parseSettings(settings);\r\n\t}\r\n\tparseSettings(settingsData) {\r\n\t\tfor (const sel in settingsData) {\r\n\t\t\tlet selector = findSelector(sel);\r\n\t\t\tlet data = settingsData[sel];\r\n\t\t\tif (selector) {\r\n\t\t\t\tswitch (selector.handle) {\r\n\t\t\t\t\tcase 'players':\r\n\t\t\t\t\t\tconst playerRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.players = playerRef.list;\r\n\t\t\t\t\t\tthis.data.slots = playerRef.obj;\r\n\t\t\t\t\t\tthis.addNamesArray(playerRef.list);\r\n\t\t\t\t\t\tthis.addAlias(playerRef.obj);\r\n\t\t\t\t\t\tthis.convertPlayerNicknames(playerRef.list);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'slots':\r\n\t\t\t\t\t\tconst slotRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.slots = slotRef.obj;\r\n\t\t\t\t\t\tthis.addNamesArray(slotRef.list);\r\n\t\t\t\t\t\tthis.addAlias(slotRef.obj);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'alias':\r\n\t\t\t\t\t\tconst aliasRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.addAlias(aliasRef.obj);\r\n\t\t\t\t\t\tthis.addNamesArray(aliasRef.list);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'moderators':\r\n\t\t\t\t\t\tconst moderatorRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.moderators = moderatorRef.list;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'dead':\r\n\t\t\t\t\t\tconst deadRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.dead = deadRef.list;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'days':\r\n\t\t\t\t\t\tconst dayRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.days = dayRef.list;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'deadline':\r\n\t\t\t\t\t\tthis.data.deadline = data;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'countdown':\r\n\t\t\t\t\t\tconst prodRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tlet prodList = prodRef.list;\r\n\t\t\t\t\t\tthis.data.prods = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\t\t\tif (!isNaN(parseInt(prodList[i]))) this.data.prods[i] = prodList[i];\r\n\t\t\t\t\t\t\telse this.data.prods[i] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pageData':\r\n\t\t\t\t\t\tthis.data.pageData = data;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'correctionWeight':\r\n\t\t\t\t\t\tthis.data.correctionWeight = data;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'prods':\r\n\t\t\t\t\t\tconst prodTimerRef = this.convertProds(data);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log('Unknown Setting');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Settings found [${sel}] as an unknown selector.`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\taddNamesArray(nameArray) {\r\n\t\tfor (let name of nameArray) {\r\n\t\t\tif (!this.data.totalnames.includes(name)) this.data.totalnames.push(name);\r\n\t\t}\r\n\t}\r\n\taddAlias(obj) {\r\n\t\tthis.data.alias = Object.assign(this.data.alias, obj);\r\n\t}\r\n\taddSetting(handle, setting) {\r\n\t\tswitch (handle) {\r\n\t\t\tcase 'playerList':\r\n\t\t\t\tthis.addPlayers(setting);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\taddPlayers(players) {\r\n\t\tlet slots = players.split(',');\r\n\t\tfor (let i = 0; i < slots.length; i++) {\r\n\t\t\tlet slot = slots[i];\r\n\t\t\tlet players = slot.split(':');\r\n\t\t\tfor (let f = 1; f < players.length; f++) {\r\n\t\t\t\tlet cur = players[f],\r\n\t\t\t\t\troot = players[0];\r\n\t\t\t\tthis.slotList[cur] = root;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconvertPlayerNicknames(data) {\r\n\t\tconst nicknames = {};\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst root = data[i];\r\n\t\t\tconst splitData = root.split('{');\r\n\t\t\tif (splitData.length > 1) {\r\n\t\t\t\tlet nicks = splitData[1].split('}')[0].split('+');\r\n\t\t\t\tfor (let j = 0; j < nicks.length; j++) {\r\n\t\t\t\t\tnicknames[nicks[j]] = splitData[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(nicknames);\r\n\t\treturn nicknames;\r\n\t}\r\n\tconvertCommaDelimiter(data) {\r\n\t\tconst author = [],\r\n\t\t\tgroup = {};\r\n\t\tlet slotRef = data.split(seperator);\r\n\t\tfor (let i = 0; i < slotRef.length; i++) {\r\n\t\t\tlet indivPlayers = slotRef[i].split(block);\r\n\t\t\tfor (let j = 0; j < indivPlayers.length; j++) {\r\n\t\t\t\tconst currentPlayer = indivPlayers[0].trim();\r\n\t\t\t\tconst playerReference = indivPlayers[j].trim();\r\n\t\t\t\tauthor.push(playerReference);\r\n\t\t\t\tgroup[playerReference] = currentPlayer;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { list: author, obj: group };\r\n\t}\r\n\tconvertProds(data) {\r\n\t\tconst prods = [0, 0, 0, 0];\r\n\t\tconst split = data.split(',');\r\n\t\tconst val = split.length > prods.length ? prods.length : split.length;\r\n\t\tfor (let i = 0; i < val; i++) {\r\n\t\t\tlet prod = split[i].trim();\r\n\t\t\tlet int = parseInt(prod);\r\n\t\t\tif (!isNaN(int)) {\r\n\t\t\t\tprods[i] = int;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { connectSocket } from '../../network/socket.js';\r\nimport Vote from '../../scripts/Vote.js';\r\nimport { sortArraysBySize } from '../../scripts/sorting.js';\r\nimport { findBestMatch } from 'string-similarity';\r\nimport Form from '../forms/Form.jsx';\r\nimport Modal from './Modal';\r\nimport settings from '../../scripts/formatting/settingsFormatter';\r\n\r\nexport default class VoteCount extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tprogress: '',\r\n\t\t\tresult: '',\r\n\t\t};\r\n\t\tthis.toggle = {\r\n\t\t\tonlyCountVotes: false,\r\n\t\t};\r\n\t\tthis.cache = {};\r\n\t\tthis.socket = null;\r\n\r\n\t\tfor (const cat in this.toggle) {\r\n\t\t\tthis.state[cat] = this.toggle[cat];\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.startSocketConnection();\r\n\t\tthis.setupSocketListeners();\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.closeSocketConnection();\r\n\t}\r\n\tstartSocketConnection() {\r\n\t\tthis.socket = connectSocket();\r\n\t}\r\n\tcloseSocketConnection() {\r\n\t\tthis.socket.disconnect();\r\n\t}\r\n\tsetupSocketListeners() {\r\n\t\tthis.socket.on('result', this.processVotes.bind(this));\r\n\t\tthis.socket.on('progress', this.processProgress.bind(this));\r\n\t\tthis.socket.on('error', this.processError.bind(this));\r\n\t}\r\n\tprocessVotes(data) {\r\n\t\tdata.settings = settings(data.settings);\r\n\t\tthis.cache = Object.assign(this.cache, data);\r\n\t\tconst cleaned = this.clean();\r\n\t\tif (cleaned) {\r\n\t\t\tconst format = this.format(cleaned);\r\n\t\t\tthis.setState({ progress: '', result: format });\r\n\t\t} else {\r\n\t\t\tthis.setState({ progress: '[ERROR]', result: 'Thread is not compatible with this tool.' });\r\n\t\t}\r\n\t}\r\n\tprocessProgress(data) {\r\n\t\tconst { currentPage, lastPage, notes } = data;\r\n\t\tif (currentPage && lastPage) {\r\n\t\t\tthis.setState({ progress: `[${Math.round((data.currentPage / data.lastPage) * 100)}%]` });\r\n\t\t}\r\n\t\tif (notes) {\r\n\t\t\tthis.setState({ result: `${notes}` });\r\n\t\t}\r\n\t}\r\n\tprocessError(data) {\r\n\t\tthis.setState({ progress: '[ERROR]', result: data.type });\r\n\t}\r\n\tonFormSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tlet gameUrl = e.target.url.value;\r\n\t\tthis.socket.emit('votecount', { url: gameUrl });\r\n\t\tthis.setState({ progress: '[0%]', result: 'Pending Result...' });\r\n\t}\r\n\tonAddField(fields) {\r\n\t\tconsole.log(fields);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\ttitle='Vote Counter'\r\n\t\t\t\tchildren={[\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tkey='votecountForm'\r\n\t\t\t\t\t\tonSubmit={this.onFormSubmit.bind(this)}\r\n\t\t\t\t\t\tsubmitText='Generate Vote Count'\r\n\t\t\t\t\t\tchildren={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: 'url',\r\n\t\t\t\t\t\t\t\tlabel: 'Game URL',\r\n\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>,\r\n\r\n\t\t\t\t\t<div key='result' className='modalResult'>\r\n\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\tResult <span>{this.state.progress}</span>\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<textarea value={this.state.result} readOnly />\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\tclean() {\r\n\t\tconst isValid = this.cache.settings.players.length >= 1;\r\n\t\tconst voteData = {\r\n\t\t\tvotes: {},\r\n\t\t\twagons: {},\r\n\t\t\tnotVoting: [],\r\n\t\t\tmajority: null,\r\n\t\t};\r\n\t\tif (isValid) {\r\n\t\t\tfor (const category in this.cache.voteCount) {\r\n\t\t\t\tif (!voteData.votes[category]) voteData.votes[category] = {};\r\n\t\t\t\tif (!voteData.wagons[category]) voteData.wagons[category] = {};\r\n\t\t\t\tlet hammerOccured = false;\r\n\t\t\t\tvoteData.notVoting = this.getAlive();\r\n\t\t\t\tvoteData.majority = Math.ceil(voteData.notVoting.length / 2);\r\n\t\t\t\tfor (const author in this.cache.voteCount[category]) {\r\n\t\t\t\t\tif (!hammerOccured) {\r\n\t\t\t\t\t\tlet voteArray = this.cache.voteCount[category][author];\r\n\t\t\t\t\t\tlet lastVote = null;\r\n\t\t\t\t\t\tlet validVote = null;\r\n\t\t\t\t\t\tfor (let i = 0; i < voteArray.length; i++) {\r\n\t\t\t\t\t\t\tlet vote = new Vote(voteArray[i], category);\r\n\t\t\t\t\t\t\tvote.clean(this.cache.settings);\r\n\t\t\t\t\t\t\tif (vote.vote.valid !== undefined) {\r\n\t\t\t\t\t\t\t\tif (vote.vote.valid) {\r\n\t\t\t\t\t\t\t\t\tvalidVote = vote.getNewest(validVote);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvalidVote = null;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlastVote = vote.getNewest(lastVote);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet valid = validVote?.isValid(this.cache.settings);\r\n\t\t\t\t\t\tif (valid && !hammerOccured) {\r\n\t\t\t\t\t\t\tlet authorIndex = voteData.notVoting.indexOf(validVote.author);\r\n\t\t\t\t\t\t\tvoteData.notVoting.splice(authorIndex, 1);\r\n\t\t\t\t\t\t\tvoteData.votes[category][author] = {\r\n\t\t\t\t\t\t\t\tlast: lastVote,\r\n\t\t\t\t\t\t\t\tvalid: validVote,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tif (!voteData.wagons[category][validVote.vote.valid]) voteData.wagons[category][validVote.vote.valid] = [];\r\n\r\n\t\t\t\t\t\t\tlet wagons = voteData.wagons[category][validVote.vote.valid];\r\n\t\t\t\t\t\t\twagons.push(validVote);\r\n\t\t\t\t\t\t\twagons = sortArraysBySize(wagons);\r\n\t\t\t\t\t\t\tvoteData.wagons[category][validVote.vote.valid] = wagons;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet returnVal = this.cache.settings.players.length;\r\n\t\treturn returnVal >= 1 ? voteData : null;\r\n\t}\r\n\tformat(voteData) {\r\n\t\tconst { wagons, notVoting, majority } = voteData;\r\n\t\tlet totalVC = '';\r\n\t\tfor (const category in wagons) {\r\n\t\t\tlet categoryVotes = '[area=VC]';\r\n\t\t\tfor (const wagonHead in wagons[category]) {\r\n\t\t\t\tlet voteArray = wagons[category][wagonHead];\r\n\t\t\t\tlet vote = `[b]${wagonHead}[/b] (${voteArray.length}) -> `;\r\n\t\t\t\tfor (let i = 0; i < voteArray.length; i++) {\r\n\t\t\t\t\tif (i > 0) vote += ', ';\r\n\t\t\t\t\tvote += `${voteArray[i].author}`;\r\n\t\t\t\t}\r\n\t\t\t\tlet eDash = majority - voteArray.length;\r\n\r\n\t\t\t\tvote += eDash <= 0 ? ` [ELIMINATED]` : ` [E-${eDash}]`;\r\n\r\n\t\t\t\tcategoryVotes += vote + '\\n';\r\n\t\t\t}\r\n\t\t\tif (notVoting.length > 0) {\r\n\t\t\t\tcategoryVotes += `\\n[b]Not Voting[/b] (${notVoting.length}) -> `;\r\n\t\t\t\tfor (let i = 0; i < notVoting.length; i++) {\r\n\t\t\t\t\tif (i > 0) categoryVotes += ', ';\r\n\t\t\t\t\tcategoryVotes += `${notVoting[i]}`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcategoryVotes += `${this.cache.settings.deadline ? `\\nDay ends in [countdown]${this.cache.settings.deadline}[/countdown]` : ''}[/area]`;\r\n\t\t\ttotalVC += categoryVotes;\r\n\t\t}\r\n\t\treturn totalVC;\r\n\t}\r\n\tgetAlive() {\r\n\t\tconst { players, dead } = this.cache.settings;\r\n\t\tlet aliveList = [];\r\n\t\tfor (let i = 0; i < players.length; i++) {\r\n\t\t\tlet root = this.getRootAuthor(players[i]);\r\n\t\t\tif (!containsObject(root, aliveList) && !containsObject(root, dead)) {\r\n\t\t\t\taliveList.push(root);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn aliveList;\r\n\t}\r\n\tcheckValid(votePost, category) {\r\n\t\tlet isCurrent = votePost.number > parseInt(this.cache.settings.days[this.cache.settings.days.length - 1]);\r\n\t\tlet isDead = false;\r\n\t\tfor (let deadUsr of this.cache.settings.dead) {\r\n\t\t\tlet deadRoot = this.rootUser(deadUsr);\r\n\t\t\tlet userRoot = this.rootUser(votePost.author);\r\n\t\t\tif (deadRoot.target === userRoot.target) {\r\n\t\t\t\tisDead = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isCurrent && !isDead;\r\n\t}\r\n\tisValidVote(vote) {\r\n\t\tlet valid = false;\r\n\t\tif (vote) {\r\n\t\t\tlet cor = this.rootUser(vote);\r\n\t\t\tif (cor.rating >= this.cache.settings.correctionWeight || 0.7) {\r\n\t\t\t\tlet correctedVote = this.cache.settings.alias[cor.target];\r\n\t\t\t\tif (correctedVote) {\r\n\t\t\t\t\tvalid = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn valid;\r\n\t}\r\n\trootUser(user) {\r\n\t\treturn findBestMatch(user, this.cache.settings.totalnames).bestMatch;\r\n\t}\r\n\tgetRootAuthor(author) {\r\n\t\tlet bestMatch = findBestMatch(author, this.cache.settings.totalnames).bestMatch;\r\n\t\tlet root = this.cache.settings.alias[bestMatch.target];\r\n\t\treturn root || bestMatch.target;\r\n\t}\r\n}\r\n\r\nfunction containsObject(obj, list) {\r\n\tfor (let i = 0; i < list.length; i++) {\r\n\t\tif (list[i] === obj) return true;\r\n\t}\r\n\treturn false;\r\n}\r\n","import io from 'socket.io-client';\r\n\r\nexport function connectSocket() {\r\n    return io.connect();\r\n}\r\n","import React from 'react';\r\n\r\nfunction RolecardComponent(props) {\r\n\tconst { child } = props;\r\n\treturn <div className={'component'}>{child}</div>;\r\n}\r\n\r\nexport default RolecardComponent;\r\n","import React from 'react';\r\n\r\nfunction SidebarButton(props) {\r\n\tconst { name, onclick } = props;\r\n\treturn (\r\n\t\t<div className='sidebarButton' onClick={onclick}>\r\n\t\t\t{name}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SidebarButton;\r\n","import React from 'react';\r\nimport Form from '../../forms/Form.jsx';\r\nimport Field from '../../forms/Field';\r\nimport Input from '../../forms/Input';\r\n\r\nexport default class Import extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.formSubmit = props?.formSubmit;\r\n\t}\r\n\trender() {\r\n\t\treturn <Form onSubmit={this.formSubmit.bind(this)} submitText='Import' children={[<Field key='file' child={<Input name='file' label='Upload CSV' type='file' />} />]} />;\r\n\t}\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Template extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onChange = props.onChange;\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='component modalForm'>\r\n\t\t\t\t<form onSubmit={(e) => e.preventDefault()}>\r\n\t\t\t\t\t<label htmlFor='template'>Role Template</label>\r\n\t\t\t\t\t<textarea name='template' onChange={this.onChange}></textarea>\r\n\t\t\t\t\t<input type='submit' value='Process Role Cards' />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport RolecardComponent from '../rolecard/RolecardComponent.jsx';\r\nimport SidebarButton from '../rolecard/SidebarButton.jsx';\r\nimport Papa from 'papaparse';\r\nimport { createSocket } from '../../scripts/websockets';\r\n\r\nimport Import from '../rolecard/sections/Import.jsx';\r\nimport Template from '../rolecard/sections/Template.jsx';\r\n\r\nexport default class RoleCard extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\timport: false,\r\n\t\t\tglobals: false,\r\n\t\t\ttemplate: false,\r\n\t\t\troleData: [],\r\n\t\t};\r\n\t\tthis.socket = createSocket();\r\n\t}\r\n\ttoggleImport() {\r\n\t\tthis.setState({ import: !this.state.import });\r\n\t}\r\n\ttoggleGlobal() {\r\n\t\tthis.setState({ globals: !this.state.globals });\r\n\t}\r\n\ttoggleTemplate() {\r\n\t\tthis.setState({ template: !this.state.template });\r\n\t}\r\n\tsubmitImport(e) {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tlet file = e.target.file.files[0];\r\n\t\t\tPapa.parse(file, {\r\n\t\t\t\tdownload: true,\r\n\t\t\t\theader: true,\r\n\t\t\t\tskipEmptyLines: true,\r\n\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\tlet roles = [];\r\n\t\t\t\t\tfor (const data of res.data) roles.push(data);\r\n\t\t\t\t\tthis.setState({ roleData: this.state.roleData });\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('Invalid File');\r\n\t\t}\r\n\t}\r\n\ttemplateChange(e) {\r\n\t\tthis.setState({ template: e.target.value });\r\n\t}\r\n\trender() {\r\n\t\t/* Split later into different components */\r\n\t\treturn (\r\n\t\t\t<div className='rolecard'>\r\n\t\t\t\t<div className='sidebar'>\r\n\t\t\t\t\t<SidebarButton name='Import' onclick={this.toggleImport.bind(this)} />\r\n\t\t\t\t\t<SidebarButton name='Globals' onclick={this.toggleGlobal.bind(this)} />\r\n\t\t\t\t\t<SidebarButton name='Process' onclick={this.toggleTemplate.bind(this)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='content'>\r\n\t\t\t\t\t{this.state.import && <RolecardComponent child={<Import formSubmit={this.submitImport.bind(this)} />} />}\r\n\t\t\t\t\t{this.state.globals && <RolecardComponent child={<span>Global Component</span>} />}\r\n\t\t\t\t\t{this.state.template && <RolecardComponent child={<Template onChange={this.templateChange.bind(this)} />} />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport Modal from './Modal';\r\nexport default class Replacement extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\ttitle='Credits and Attributions'\r\n\t\t\t\tchildren={[\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tUicons by <a href='https://www.flaticon.com/uicons'>Flaticon</a>\r\n\t\t\t\t\t</span>,\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport './css/main.css';\r\n\r\n// Pages\r\nimport Main from './components/pages/Main.jsx';\r\nimport NotFoundPage from './components/pages/404.jsx';\r\nimport Replacement from './components/pages/Replacement.jsx';\r\nimport VoteCount from './components/pages/VoteCount.jsx';\r\nimport RoleCard from './components/pages/RoleCard.jsx';\r\nimport Credit from './components/pages/Credits.jsx';\r\nclass Doc extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path='/' component={Main} />\r\n\t\t\t\t\t\t<Route exact path='/replacement' component={Replacement} />\r\n\t\t\t\t\t\t<Route exact path='/votecount' component={VoteCount} />\r\n\t\t\t\t\t\t<Route exact path='/rolecard' component={RoleCard} />\r\n\t\t\t\t\t\t<Route exact path='/credits' component={Credit} />\r\n\t\t\t\t\t\t<Route exact path='/test' component={VoteCount} />\r\n\r\n\t\t\t\t\t\t<Route path='/404' component={NotFoundPage} />\r\n\t\t\t\t\t\t<Redirect to='/404' />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\nReactDOM.render(<Doc />, document.getElementById('root'));\r\n"],"sourceRoot":""}